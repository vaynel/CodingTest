# 문제명 (서버증설횟수)

- **사이트:** 프로그래머스
- **난이도:** lv2 
- **링크:** [https://www.acmicpc.net/problem/1541 ](https://school.programmers.co.kr/learn/courses/30/lessons/389479) 
- **풀이 날짜:** 2025-12-04

---

## 1. 문제 
문제 설명
당신은 온라인 게임을 운영하고 있습니다. 같은 시간대에 게임을 이용하는 사람이 m명 늘어날 때마다 서버 1대가 추가로 필요합니다. 어느 시간대의 이용자가 m명 미만이라면, 서버 증설이 필요하지 않습니다. 어느 시간대의 이용자가 n x m명 이상 (n + 1) x m명 미만이라면 최소 n대의 증설된 서버가 운영 중이어야 합니다. 한 번 증설한 서버는 k시간 동안 운영하고 그 이후에는 반납합니다. 예를 들어, k = 5 일 때 10시에 증설한 서버는 10 ~ 15시에만 운영됩니다.

하루 동안 모든 게임 이용자가 게임을 하기 위해 서버를 최소 몇 번 증설해야 하는지 알고 싶습니다. 같은 시간대에 서버를 x대 증설했다면 해당 시간대의 증설 횟수는 x회입니다.
---

## 2. 코드 (Python)

### 나의 풀이
```python
import math
def solution(players, m, k):
    answer = 0
    live_server = 1
    server_liftime = {}
    for i,player in enumerate(players, start=1):
        print(f'player[{i}] - {player}')
        # 서버 증설 시간 계산
        for key, v in list(server_liftime.items()):
            if i - key == k:
                live_server = live_server - v
                print(f'증설 서버 종료 - {key}에 실행한 서버')
                del server_liftime[key]

        print(f'실행중인 서버 갯수 - {live_server}')            
        # 실행중인 서버 계산
        if player+1 > live_server * m: # 서버 가용 가능 인원 (live_server * m)
            t = player - live_server*m
            n =  math.floor(t / m) +1
            live_server = live_server + n
            server_liftime[i] = n
            print(f'증설 서버 갯수 - {n}')
            answer +=  n   # 서버 증설 

    print("-----------------")
    print(f'서버 증설  - {answer}')
    return answer
```

### 다른 사람 코드

```python
from collections import deque

def solution(players, m, k):
    answer = 0
    stack = deque()
    for i in range(k):
        stack.append(0)

    for i in players:
        a = i//m

        server = stack.popleft()
        stack.append(0)

        if a >= server:
            increase = a - server
            answer += increase
            for i in range(k-1):
                stack[i] += increase


    return answer
```
